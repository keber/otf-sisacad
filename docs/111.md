## Tarea AB#111 - Technical: Mejora de Cobertura y Deuda TÃ©cnica

## ðŸ”¢ DescripciÃ³n

Esta tarea tuvo por objetivo abordar aspectos de **deuda tÃ©cnica** identificados durante las tareas de desarrollo anteriores, en particular aquellos reportados por **SonarCloud** respecto a cobertura de cÃ³digo y buenas prÃ¡cticas.

Se enfocÃ³ en clases que no contaban con pruebas suficientes o no tenÃ­an ninguna cobertura, incluyendo:

* `ProgramaNoEncontradoException`
* `OtfSisacadApplication`
* `WebConfig`
* `ProgramaFormativoDTO`

## âœ… Actividades Realizadas

### 1. ProgramaNoEncontradoException

* Se implementÃ³ un test unitario directo que verifica que el mensaje generado al lanzar la excepciÃ³n incluye el ID proporcionado.

```java
@Test
void constructorIncluyeIdEnMensaje() {
    Long id = 99L;
    ProgramaNoEncontradoException ex = new ProgramaNoEncontradoException(id);
    assertTrue(ex.getMessage().contains("ID: " + id));
}
```

### 2. OtfSisacadApplication (Main)

* Se agregÃ³ una aserciÃ³n en la prueba de `mainRunsWithoutExceptions` para que sea significativa segÃºn Sonar:

```java
@Test
void mainRunsWithoutExceptions() {
    assertDoesNotThrow(() -> OtfSisacadApplication.main(new String[]{}));
}
```

### 3. WebConfig

* Se creÃ³ un test para verificar que el bean `ModelMapper` es creado correctamente:

```java
@Test
void modelMapperBeanDebeCrearse() {
    WebConfig config = new WebConfig();
    assertNotNull(config.modelMapper());
}
```

### 4. ProgramaFormativoDTO

* Se agregÃ³ una prueba de acceso a sus campos y uso de getters/setters para mejorar cobertura:

```java
@Test
void gettersYSettersFuncionanCorrectamente() {
    ProgramaFormativoDTO dto = new ProgramaFormativoDTO();
    dto.setId(1L);
    dto.setCodigo("PF001");
    dto.setNombre("Programa A");
    dto.setFechaInicio(LocalDate.of(2024, 1, 1));
    dto.setFechaFin(LocalDate.of(2024, 12, 31));
    dto.setEstado("Activo");

    assertEquals("PF001", dto.getCodigo());
    assertEquals("Programa A", dto.getNombre());
}
```

## ðŸ”„ Ciclos TDD

* RED: Se definieron pruebas iniciales que fallaban por falta de implementaciÃ³n o cobertura.
* GREEN: Se agregaron implementaciones y configuraciones para que los tests pasaran.
* REFACTOR: Se revisÃ³ estructura y consistencia del cÃ³digo, eliminando warnings de Sonar y mejorando calidad.

## ðŸ“Š Resultados

* Cobertura de cÃ³digo aumentada sobre los archivos previamente no cubiertos.
* Todos los tests fueron ejecutados exitosamente en CI.
* SonarCloud reporta cobertura mÃ¡xima en las clases intervenidas.

## ðŸ“… Commits Relevantes

```
76e49bb test(otf-sisacad): enhance application tests
```

## ðŸ“– RelaciÃ³n con otras tareas

* Apoya la tarea \[AB#44 - US Registrar programas formativos] mejorando la base tÃ©cnica del sistema.
* Complementa la tarea \[AB#112 - Crear frontend para ProgramaFormativo] asegurando calidad.

---
